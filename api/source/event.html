<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">define( function () {
	function Observable() {
		this.listeners = [];
		this.args = [];
	}
	Observable.prototype = {
		constructor: Observable,
		observe: function( fn ) {
			this.listeners.push( fn );
		},

		unobserve: function( fn ) {
			var index;
			index = this.listeners.indexOf( fn );
			if( index &gt; -1 ) {
				this.listeners.splice( index, 1 );
			}
		},

		update: function() {
			var listeners = this.listeners,
				len = listeners.length,
				i;
			this.args = arguments;
			for( i = 0; i &lt; len; ++i ) {
				listeners[i].apply( null, arguments );
			}
		}
	};
	return Observable;
});</pre>
</body>
</html>
